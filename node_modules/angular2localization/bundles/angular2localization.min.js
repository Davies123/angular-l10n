System.register("angular2localization/src/pipes/translate.pipe",["@angular/core","../services/locale.service","../services/localization.service"],function(a,b){"use strict";var c,d,e,f,g=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),h=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a,b){this.locale=a,this.localization=b}return a.prototype.transform=function(a){var b=this;if(""!=this.locale.getCurrentLanguage()&&this.locale.getCurrentLanguage()!=this.localization.languageCode&&this.localization.updateTranslation(),this.localization.serviceState!=e.ServiceState.isReady)return this.value;if(this.key==a&&""!=this.value&&this.languageCode==this.localization.languageCode)return this.value;var c=a.replace(/^\d+\b/,"");c=c.trim(),this.localization.translate(c).forEach(function(d){b.value=a.replace(c,d)}).then(function(){return b.languageCode=b.localization.languageCode,b.key=a,b.value})},a=g([c.Pipe({name:"translate",pure:!1}),c.Injectable(),h("design:paramtypes",[d.LocaleService,e.LocalizationService])],a)}(),a("TranslatePipe",f)}}}),System.register("angular2localization/src/pipes/locale-date.pipe",["@angular/core","@angular/common/src/facade/lang","@angular/common/src/facade/intl","@angular/common/src/facade/collection","@angular/common/src/pipes/invalid_pipe_argument_exception","../services/locale.service"],function(a,b){"use strict";var c,d,e,f,g,h,i,j=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),k=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a}],execute:function(){i=function(){function a(a){this.locale=a}return a.prototype.transform=function(b,c){if(void 0===c&&(c="mediumDate"),d.isBlank(b))return null;if(!this.supports(b))throw new g.InvalidPipeArgumentException(a,b);return this.value==b&&""!=this.localeDate&&this.defaultLocale==this.locale.getDefaultLocale()||(this.defaultLocale=this.locale.getDefaultLocale(),this.value=b,d.isNumber(b)&&(b=d.DateWrapper.fromMillis(b)),f.StringMapWrapper.contains(a.ALIASES,c)&&(c=f.StringMapWrapper.get(a.ALIASES,c)),this.localeDate=e.DateFormatter.format(b,this.defaultLocale,c)),this.localeDate},a.prototype.supports=function(a){return d.isDate(a)||d.isNumber(a)},a.ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},a=j([c.Pipe({name:"localedate",pure:!1}),c.Injectable(),k("design:paramtypes",[h.LocaleService])],a)}(),a("LocaleDatePipe",i)}}}),System.register("angular2localization/src/pipes/locale-number.pipe",["@angular/core","@angular/common/src/facade/intl","../services/locale-number","../services/locale.service"],function(a,b){"use strict";var c,d,e,f,g,h,i,j=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),k=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},l=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(a){function b(b){a.call(this),this.locale=b}return j(b,a),b.prototype.transform=function(a,b){return void 0===b&&(b=null),this.value==a&&""!=this.localeDecimal&&this.defaultLocale==this.locale.getDefaultLocale()||(this.defaultLocale=this.locale.getDefaultLocale(),this.value=a,this.localeDecimal=e.LocaleNumber.format(this.defaultLocale,a,d.NumberFormatStyle.Decimal,b)),this.localeDecimal},b=k([c.Pipe({name:"localedecimal",pure:!1}),c.Injectable(),l("design:paramtypes",[f.LocaleService])],b)}(e.LocaleNumber),a("LocaleDecimalPipe",g),h=function(a){function b(b){a.call(this),this.locale=b}return j(b,a),b.prototype.transform=function(a,b){return void 0===b&&(b=null),this.value==a&&""!=this.localePercent&&this.defaultLocale==this.locale.getDefaultLocale()||(this.defaultLocale=this.locale.getDefaultLocale(),this.value=a,this.localePercent=e.LocaleNumber.format(this.defaultLocale,a,d.NumberFormatStyle.Percent,b)),this.localePercent},b=k([c.Pipe({name:"localepercent",pure:!1}),c.Injectable(),l("design:paramtypes",[f.LocaleService])],b)}(e.LocaleNumber),a("LocalePercentPipe",h),i=function(a){function b(b){a.call(this),this.locale=b}return j(b,a),b.prototype.transform=function(a,b,c){return void 0===b&&(b=!1),void 0===c&&(c=null),this.value==a&&""!=this.localeCurrency&&this.currencyCode==this.locale.getCurrentCurrency()&&this.defaultLocale==this.locale.getDefaultLocale()||(this.currencyCode=this.locale.getCurrentCurrency(),this.defaultLocale=this.locale.getDefaultLocale(),this.value=a,this.localeCurrency=e.LocaleNumber.format(this.defaultLocale,a,d.NumberFormatStyle.Currency,c,this.currencyCode,b)),this.localeCurrency},b=k([c.Pipe({name:"localecurrency",pure:!1}),c.Injectable(),l("design:paramtypes",[f.LocaleService])],b)}(e.LocaleNumber),a("LocaleCurrencyPipe",i)}}}),System.register("angular2localization/src/services/locale-number",["@angular/core","@angular/common/src/facade/lang","@angular/common/src/facade/exceptions","@angular/common/src/facade/intl","@angular/common/src/pipes/invalid_pipe_argument_exception"],function(a,b){"use strict";var c,d,e,f,g,h,i=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),j=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(){function a(){}return a.format=function(b,c,h,i,j,k){if(void 0===j&&(j=null),void 0===k&&(k=!1),d.isBlank(c))return null;if(!d.isNumber(c))throw new g.InvalidPipeArgumentException(a,c);var l=1,m=0,n=3,o=d.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$");if(d.isPresent(i)){var p=d.RegExpWrapper.firstMatch(o,i);if(d.isBlank(p))throw new e.BaseException(i+" is not a valid digit info for number pipes");d.isPresent(p[1])&&(l=d.NumberWrapper.parseIntAutoRadix(p[1])),d.isPresent(p[3])&&(m=d.NumberWrapper.parseIntAutoRadix(p[3])),d.isPresent(p[5])&&(n=d.NumberWrapper.parseIntAutoRadix(p[5]))}return f.NumberFormatter.format(c,b,h,{minimumIntegerDigits:l,minimumFractionDigits:m,maximumFractionDigits:n,currency:j,currencyAsSymbol:k})},a=i([c.Injectable(),j("design:paramtypes",[])],a)}(),a("LocaleNumber",h)}}}),System.register("angular2localization/src/services/locale.service",["@angular/core"],function(a,b){"use strict";var c,d,e=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),f=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a}],execute:function(){d=function(){function a(){this.languageCodeChanged=new c.EventEmitter,this.countryCodeChanged=new c.EventEmitter,this.currencyCodeChanged=new c.EventEmitter,this.languageCodes=[],this.languageCode="",this.countryCode="",this.currencyCode="",this.defaultLocale=""}return a.prototype.addLanguage=function(a){this.languageCodes.push(a)},a.prototype.definePreferredLanguage=function(a,b){this.expiry=b;var c=this.getCookie("locale");if(this.languageCode=c.substring(0,2),""==this.languageCode){var d=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage;d=d.substring(0,2),this.languageCodes.length>0&&-1!=this.languageCodes.indexOf(d)?this.languageCode=d:this.languageCode=a.toLowerCase(),this.setDefaultLocale(),this.languageCodes.length>0&&this.setCookie("locale",this.defaultLocale,this.expiry)}else this.setDefaultLocale()},a.prototype.definePreferredCountry=function(a){var b=this.getCookie("locale");this.countryCode=b.substring(3,5),""==this.countryCode?(this.countryCode=a.toUpperCase(),this.setDefaultLocale(),this.languageCodes.length>0&&this.setCookie("locale",this.defaultLocale,this.expiry)):this.setDefaultLocale()},a.prototype.definePreferredLocale=function(a,b,c){this.expiry=c;var d=this.getCookie("locale");this.languageCode=d.substring(0,2),""==this.languageCode?(this.languageCode=a.toLowerCase(),this.countryCode=b.toUpperCase(),this.setDefaultLocale(),this.languageCodes.length>0&&this.setCookie("locale",this.defaultLocale,this.expiry)):(this.countryCode=d.substring(3,5),""==this.countryCode?(this.countryCode=b.toUpperCase(),this.setDefaultLocale(),this.languageCodes.length>0&&this.setCookie("locale",this.defaultLocale,this.expiry)):this.setDefaultLocale())},a.prototype.definePreferredCurrency=function(a){this.currencyCode=this.getCookie("currency"),""==this.currencyCode&&(this.currencyCode=a.toUpperCase(),this.languageCodes.length>0&&this.setCookie("currency",this.currencyCode,this.expiry))},a.prototype.getCurrentLanguage=function(){return this.languageCode},a.prototype.getCurrentCountry=function(){return this.countryCode},a.prototype.getCurrentCurrency=function(){return this.currencyCode},a.prototype.setCurrentLanguage=function(a){a=a.toLowerCase(),this.languageCode!=a&&(this.languageCode=a,this.setDefaultLocale(),this.setCookie("locale",this.defaultLocale,this.expiry),this.languageCodeChanged.emit(a))},a.prototype.setCurrentCountry=function(a){a=a.toUpperCase(),this.countryCode!=a&&(this.countryCode=a,this.setDefaultLocale(),this.setCookie("locale",this.defaultLocale,this.expiry),this.countryCodeChanged.emit(a))},a.prototype.setCurrentLocale=function(a,b){a=a.toLowerCase(),b=b.toUpperCase(),this.languageCode==a&&this.countryCode==b||(this.languageCode=a,this.countryCode=b,this.setDefaultLocale(),this.setCookie("locale",this.defaultLocale,this.expiry),this.countryCodeChanged.emit(b),this.languageCodeChanged.emit(a))},a.prototype.setCurrentcurrency=function(a){a=a.toUpperCase(),this.currencyCode!=a&&(this.currencyCode=a,this.setCookie("currency",this.currencyCode,this.expiry),this.currencyCodeChanged.emit(a))},a.prototype.getDefaultLocale=function(){return this.defaultLocale},a.prototype.setDefaultLocale=function(){this.defaultLocale=this.languageCode,""!=this.countryCode&&(this.defaultLocale=this.defaultLocale+"-"+this.countryCode)},a.prototype.setCookie=function(a,b,c){if(null!=c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toUTCString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},a.prototype.getCookie=function(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""},e([c.Output(),f("design:type",Object)],a.prototype,"languageCodeChanged",void 0),e([c.Output(),f("design:type",Object)],a.prototype,"countryCodeChanged",void 0),e([c.Output(),f("design:type",Object)],a.prototype,"currencyCodeChanged",void 0),a=e([c.Injectable(),f("design:paramtypes",[])],a)}(),a("LocaleService",d)}}}),System.register("angular2localization/src/services/localization.service",["@angular/core","@angular/http","rxjs/Observable","rxjs/add/operator/map","./locale.service"],function(a,b){"use strict";var c,d,e,f,g,h,i,j=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),k=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){},function(a){f=a}],execute:function(){g=function(){function a(a,b){this.http=a,this.locale=b,this.translationData={},this.prefix="",this.loadingMode=i.Unknown,this.languageCode="",this.serviceState=h.isWaiting}return a.prototype.addTranslation=function(a,b){this.translationData[a]=b,this.serviceState=h.isReady,this.loadingMode=i.Direct},a.prototype.translationProvider=function(a){this.prefix=a,this.loadingMode=i.Async},a.prototype.getTranslation=function(){var a=this;this.translationData={},this.serviceState=h.isLoading;var b=this.prefix+this.languageCode+".json";this.http.get(b).map(function(a){return a.json()}).subscribe(function(b){a.translationData[a.languageCode]=b},function(a){console.error("Localization service:",a)},function(){a.serviceState=h.isReady,console.log("Localization service:","Http get method completed.")})},a.prototype.getValue=function(a){var b;if(null!=this.translationData[this.languageCode]){var c=this.translationData[this.languageCode];b=c[a]}return null!=b&&""!=b||(b=a),b},a.prototype.translate=function(a){var b=this;return new e.Observable(function(c){var d=b.getValue(a);c.next(d),c.complete()})},a.prototype.updateTranslation=function(){this.languageCode=this.locale.getCurrentLanguage(),this.loadingMode==i.Async&&this.getTranslation()},a=j([c.Injectable(),k("design:paramtypes",[d.Http,f.LocaleService])],a)}(),a("LocalizationService",g),function(a){a[a.isReady=0]="isReady",a[a.isLoading=1]="isLoading",a[a.isWaiting=2]="isWaiting"}(h||(h={})),a("ServiceState",h),function(a){a[a.Unknown=0]="Unknown",a[a.Direct=1]="Direct",a[a.Async=2]="Async"}(i||(i={})),a("LoadingMode",i)}}}),System.register("angular2localization/src/pipes/translate-array.pipe",["@angular/core","@angular/common/src/facade/lang","@angular/common/src/facade/intl","@angular/common/src/facade/collection","@angular/common/src/pipes/invalid_pipe_argument_exception","../services/locale-number","../services/locale.service","../services/localization.service"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l=(b&&b.id,this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}),m=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},n=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a},function(a){j=a}],execute:function(){k=function(a){function b(b,c){a.call(this),this.locale=b,this.localization=c}return l(b,a),b.prototype.transform=function(a,b,c,d,e){if(null==a||null==b)return null;if(""!=this.locale.getCurrentLanguage()&&this.locale.getCurrentLanguage()!=this.localization.languageCode&&this.localization.updateTranslation(),this.localization.serviceState==j.ServiceState.isReady){var f=this.compare(this.storedList,a);if(0==f||null==this.translatedList||this.languageCode!=this.localization.languageCode||this.currencyCode!=this.locale.getCurrentCurrency()||this.defaultLocale!=this.locale.getDefaultLocale()){this.storedList=new Array,this.storedList=a,this.languageCode=this.localization.languageCode,this.currencyCode=this.locale.getCurrentCurrency(),this.defaultLocale=this.locale.getDefaultLocale();var g=new Array;g=this.deepCopy(a);for(var h=Object.keys(a[0]),i=0,k=0,l=h;k<l.length;k++){var m=l[k];switch(b[m].pipe){case"translate":g=this.tranlate(g,m);break;case"localedate":g=this.toLocaleDate(g,m,b[m].format);break;case"localedecimal":g=this.toLocaleDecimal(g,m,b[m].digitInfo);break;case"localepercent":g=this.toLocalePercent(g,m,b[m].digitInfo);break;case"localecurrency":g=this.toLocaleCurrency(g,m,b[m].symbolDisplay,b[m].digitInfo)}i++}this.translatedList=new Array,this.translatedList=g}return this.translatedList}return this.translatedList},b.prototype.supports=function(a){return d.isDate(a)||d.isNumber(a)},b.prototype.tranlate=function(a,b){for(var c=0,d=a;c<d.length;c++){var e=d[c],f=this.localization.getValue(e[b]);e[b]=f}return a},b.prototype.toLocaleDate=function(a,c,h){void 0===h&&(h="mediumDate");for(var i=0,j=a;i<j.length;i++){var k=j[i];if(d.isBlank(k[c]))return null;if(!this.supports(k[c]))throw new g.InvalidPipeArgumentException(b,k[c]);d.isNumber(k[c])&&(k[c]=d.DateWrapper.fromMillis(k[c])),f.StringMapWrapper.contains(b.ALIASES,h)&&(h=f.StringMapWrapper.get(b.ALIASES,h));var l=e.DateFormatter.format(k[c],this.defaultLocale,h);k[c]=l}return a},b.prototype.toLocaleDecimal=function(a,b,c){void 0===c&&(c=null);for(var d=0,f=a;d<f.length;d++){var g=f[d],i=h.LocaleNumber.format(this.defaultLocale,g[b],e.NumberFormatStyle.Decimal,c);g[b]=i}return a},b.prototype.toLocalePercent=function(a,b,c){void 0===c&&(c=null);for(var d=0,f=a;d<f.length;d++){var g=f[d],i=h.LocaleNumber.format(this.defaultLocale,g[b],e.NumberFormatStyle.Percent,c);g[b]=i}return a},b.prototype.toLocaleCurrency=function(a,b,c,d){void 0===c&&(c=!1),void 0===d&&(d=null);for(var f=0,g=a;f<g.length;f++){var i=g[f],j=h.LocaleNumber.format(this.defaultLocale,i[b],e.NumberFormatStyle.Currency,d,this.currencyCode,c);i[b]=j}return a},b.prototype.compare=function(a,b){if(null==a||null==b)return!1;if(a.length!=b.length)return!1;var c=Object.keys(a[0]),d=Object.keys(b[0]);if(c!=d)return!1;for(var e;e<a.length;e++)for(var f;f<c.length;e++)if(a[e][f]!=b[e][f])return!1;return!0},b.prototype.deepCopy=function(a){for(var b=new Array,c=Object.keys(a[0]),d=0,e=a;d<e.length;d++){for(var f=e[d],g={},h=0,i=c;h<i.length;h++){var j=i[h];g[j]=f[j]}b.push(g)}return b},b.ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},b=m([c.Pipe({name:"translatearray",pure:!1}),c.Injectable(),n("design:paramtypes",[i.LocaleService,j.LocalizationService])],b)}(h.LocaleNumber),a("TranslateArrayPipe",k)}}}),System.register("angular2localization/angular2localization",["./src/services/localization.service","./src/services/locale.service","./src/services/locale-number","./src/pipes/translate.pipe","./src/pipes/locale-date.pipe","./src/pipes/locale-number.pipe","./src/pipes/translate-array.pipe"],function(a,b){"use strict";function c(b){var c={};for(var d in b)"default"!==d&&(c[d]=b[d]);a(c)}b&&b.id;return{setters:[function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)}],execute:function(){}}});