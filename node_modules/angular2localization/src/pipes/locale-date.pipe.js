/**
 * ANGULAR 2 LOCALIZATION
 * An Angular 2 library to translate messages, dates and numbers.
 * Written by Roberto Simonetti.
 * MIT license.
 * https://github.com/robisim74/angular2localization
 */
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var lang_1 = require('@angular/common/src/facade/lang');
var intl_1 = require('@angular/common/src/facade/intl');
var collection_1 = require('@angular/common/src/facade/collection');
var invalid_pipe_argument_exception_1 = require('@angular/common/src/pipes/invalid_pipe_argument_exception');
// Services.
var Intl_support_1 = require('../services/Intl-support');
/**
 * 'localedate' pipe function.
 */
var LocaleDatePipe = (function () {
    function LocaleDatePipe() {
    }
    /**
     * LocaleDatePipe transform method.
     *
     * @param value The date to be localized
     * @param defaultLocale The default locale
     * @param pattern The format of the date
     * @return The locale date
     */
    LocaleDatePipe.prototype.transform = function (value, defaultLocale, pattern) {
        if (pattern === void 0) { pattern = 'mediumDate'; }
        if (lang_1.isBlank(value))
            return null;
        if (!this.supports(value)) {
            throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(LocaleDatePipe, value);
        }
        if (lang_1.isNumber(value)) {
            value = lang_1.DateWrapper.fromMillis(value);
        }
        // Checks for support for Intl.
        if (Intl_support_1.IntlSupport.DateTimeFormat(defaultLocale) == true) {
            if (collection_1.StringMapWrapper.contains(LocaleDatePipe.ALIASES, pattern)) {
                pattern = collection_1.StringMapWrapper.get(LocaleDatePipe.ALIASES, pattern);
            }
            return intl_1.DateFormatter.format(value, defaultLocale, pattern);
        }
        // Returns the date without localization.
        return value;
    };
    LocaleDatePipe.prototype.supports = function (obj) { return lang_1.isDate(obj) || lang_1.isNumber(obj); };
    LocaleDatePipe.ALIASES = {
        'medium': 'yMMMdjms',
        'short': 'yMdjm',
        'fullDate': 'yMMMMEEEEd',
        'longDate': 'yMMMMd',
        'mediumDate': 'yMMMd',
        'shortDate': 'yMd',
        'mediumTime': 'jms',
        'shortTime': 'jm'
    };
    LocaleDatePipe = __decorate([
        core_1.Pipe({
            name: 'localedate',
            pure: true
        }),
        core_1.Injectable(), 
        __metadata('design:paramtypes', [])
    ], LocaleDatePipe);
    return LocaleDatePipe;
}());
exports.LocaleDatePipe = LocaleDatePipe;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jYWxlLWRhdGUucGlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvY2FsZS1kYXRlLnBpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztHQU1HOzs7Ozs7Ozs7OztBQUVILHFCQUE4QyxlQUFlLENBQUMsQ0FBQTtBQUM5RCxxQkFBZ0UsaUNBQWlDLENBQUMsQ0FBQTtBQUNsRyxxQkFBNEIsaUNBQWlDLENBQUMsQ0FBQTtBQUM5RCwyQkFBK0IsdUNBQXVDLENBQUMsQ0FBQTtBQUN2RSxnREFBMkMsMkRBQTJELENBQUMsQ0FBQTtBQUV2RyxZQUFZO0FBQ1osNkJBQTBCLDBCQUEwQixDQUFDLENBQUE7QUFFckQ7O0dBRUc7QUErQ1c7SUFhVjtJQUFnQixDQUFDO0lBRWpCOzs7Ozs7O09BT0c7SUFDSCxrQ0FBUyxHQUFULFVBQVUsS0FBVSxFQUFFLGFBQXFCLEVBQUUsT0FBOEI7UUFBOUIsdUJBQThCLEdBQTlCLHNCQUE4QjtRQUV2RSxFQUFFLENBQUMsQ0FBQyxjQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBRWhDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFeEIsTUFBTSxJQUFJLDhEQUE0QixDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUVsRSxDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsZUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVsQixLQUFLLEdBQVMsa0JBQVcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFaEQsQ0FBQztRQUVELCtCQUErQjtRQUMvQixFQUFFLENBQUMsQ0FBQywwQkFBVyxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBRXBELEVBQUUsQ0FBQyxDQUFDLDZCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFN0QsT0FBTyxHQUFXLDZCQUFnQixDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBRTVFLENBQUM7WUFFRCxNQUFNLENBQUMsb0JBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUUvRCxDQUFDO1FBRUQseUNBQXlDO1FBQ3pDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFFakIsQ0FBQztJQUVPLGlDQUFRLEdBQWhCLFVBQWlCLEdBQVEsSUFBYSxNQUFNLENBQUMsYUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLGVBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUF2RHJFLHNCQUFPLEdBQThCO1FBQ3hDLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSxPQUFPO1FBQ2hCLFVBQVUsRUFBRSxZQUFZO1FBQ3hCLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLFlBQVksRUFBRSxPQUFPO1FBQ3JCLFdBQVcsRUFBRSxLQUFLO1FBQ2xCLFlBQVksRUFBRSxLQUFLO1FBQ25CLFdBQVcsRUFBRSxJQUFJO0tBQ3BCLENBQUM7SUF6RE47UUFBQyxXQUFJLENBQUM7WUFDRixJQUFJLEVBQUUsWUFBWTtZQUNsQixJQUFJLEVBQUUsSUFBSTtTQUNiLENBQUM7UUEyQ0QsaUJBQVUsRUFBRTs7c0JBQUE7SUEyRGIscUJBQUM7QUFBRCxDQUFDLEFBM0RhLElBMkRiO0FBM0QwQixzQkFBYyxpQkEyRHhDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQU5HVUxBUiAyIExPQ0FMSVpBVElPTlxyXG4gKiBBbiBBbmd1bGFyIDIgbGlicmFyeSB0byB0cmFuc2xhdGUgbWVzc2FnZXMsIGRhdGVzIGFuZCBudW1iZXJzLlxyXG4gKiBXcml0dGVuIGJ5IFJvYmVydG8gU2ltb25ldHRpLlxyXG4gKiBNSVQgbGljZW5zZS5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL3JvYmlzaW03NC9hbmd1bGFyMmxvY2FsaXphdGlvblxyXG4gKi9cclxuXHJcbmltcG9ydCB7SW5qZWN0YWJsZSwgUGlwZSwgUGlwZVRyYW5zZm9ybX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7aXNEYXRlLCBpc051bWJlciwgaXNQcmVzZW50LCBEYXRlV3JhcHBlciwgaXNCbGFua30gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9mYWNhZGUvbGFuZyc7XHJcbmltcG9ydCB7RGF0ZUZvcm1hdHRlcn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9mYWNhZGUvaW50bCc7XHJcbmltcG9ydCB7U3RyaW5nTWFwV3JhcHBlcn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9mYWNhZGUvY29sbGVjdGlvbic7XHJcbmltcG9ydCB7SW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy9pbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uJztcclxuXHJcbi8vIFNlcnZpY2VzLlxyXG5pbXBvcnQge0ludGxTdXBwb3J0fSBmcm9tICcuLi9zZXJ2aWNlcy9JbnRsLXN1cHBvcnQnO1xyXG5cclxuLyoqXHJcbiAqICdsb2NhbGVkYXRlJyBwaXBlIGZ1bmN0aW9uLlxyXG4gKi9cclxuQFBpcGUoe1xyXG4gICAgbmFtZTogJ2xvY2FsZWRhdGUnLFxyXG4gICAgcHVyZTogdHJ1ZVxyXG59KVxyXG5cclxuLyoqXHJcbiAqIExvY2FsZURhdGVQaXBlIGNsYXNzLlxyXG4gKiBcclxuICogR2V0dGluZyB0aGUgbG9jYWwgZGF0ZTpcclxuICogXHJcbiAqIGV4cHJlc3Npb24gfCBsb2NhbGVkYXRlWzpkZWZhdWx0TG9jYWxlWzpmb3JtYXRdXVxyXG4gKiBcclxuICogd2hlcmUgJ2V4cHJlc3Npb24nIGlzIGEgZGF0ZSBvYmplY3Qgb3IgYSBudW1iZXIgKG1pbGxpc2Vjb25kcyBzaW5jZSBVVEMgZXBvY2gpLCAnZGVmYXVsdExvY2FsZScgaXMgdGhlIGRlZmF1bHQgbG9jYWxlIGFuZCAnZm9ybWF0JyBpbmRpY2F0ZXMgd2hpY2ggZGF0ZS90aW1lIGNvbXBvbmVudHMgdG8gaW5jbHVkZS5cclxuICogXHJcbiAqIEZvciBleGFtcGxlLCB0byBnZXQgdGhlIGxvY2FsIGRhdGUsIGFkZCBpbiB0aGUgdGVtcGxhdGU6XHJcbiAqIFxyXG4gKiB7eyB0b2RheSB8IGxvY2FsZWRhdGU6ZGVmYXVsdExvY2FsZTonZnVsbERhdGUnIH19XHJcbiAqIFxyXG4gKiBhbmQgaW5jbHVkZSBpbiB0aGUgY29tcG9uZW50OlxyXG4gKiBcclxuICogaW1wb3J0IHtMb2NhbGVTZXJ2aWNlfSBmcm9tICdhbmd1bGFyMmxvY2FsaXphdGlvbi9hbmd1bGFyMmxvY2FsaXphdGlvbic7XHJcbiAqIGltcG9ydCB7TG9jYWxlRGF0ZVBpcGV9IGZyb20gJ2FuZ3VsYXIybG9jYWxpemF0aW9uL2FuZ3VsYXIybG9jYWxpemF0aW9uJztcclxuICogXHJcbiAqIEBDb21wb25lbnQoe1xyXG4gKiAgICAgLi4uXHJcbiAqICAgICBwaXBlczogW0xvY2FsZURhdGVQaXBlXVxyXG4gKiB9KVxyXG4gKiBcclxuICogZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XHJcbiAqIFxyXG4gKiAgICAgY29uc3RydWN0b3IocHVibGljIGxvY2FsZTogTG9jYWxlU2VydmljZSkge1xyXG4gKiAgICAgICAgIC4uLlxyXG4gKiAgICAgfVxyXG4gKiBcclxuICogICAgIC8vIEdldHMgdGhlIGRlZmF1bHQgbG9jYWxlLlxyXG4gKiAgICAgZ2V0IGRlZmF1bHRMb2NhbGUoKTogc3RyaW5nIHtcclxuICpcclxuICogICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUuZ2V0RGVmYXVsdExvY2FsZSgpO1xyXG4gKiAgICAgIFxyXG4gKiAgICAgfVxyXG4gKiBcclxuICogfVxyXG4gKiBcclxuICogQGF1dGhvciBSb2JlcnRvIFNpbW9uZXR0aVxyXG4gKiBAc2VlIEFuZ3VsYXIgMiBEYXRlUGlwZSBmb3IgZnVydGhlciBpbmZvcm1hdGlvblxyXG4gKi9cclxuQEluamVjdGFibGUoKSBleHBvcnQgY2xhc3MgTG9jYWxlRGF0ZVBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcclxuXHJcbiAgICBzdGF0aWMgQUxJQVNFUzogeyBba2V5OiBzdHJpbmddOiBTdHJpbmcgfSA9IHtcclxuICAgICAgICAnbWVkaXVtJzogJ3lNTU1kam1zJyxcclxuICAgICAgICAnc2hvcnQnOiAneU1kam0nLFxyXG4gICAgICAgICdmdWxsRGF0ZSc6ICd5TU1NTUVFRUVkJyxcclxuICAgICAgICAnbG9uZ0RhdGUnOiAneU1NTU1kJyxcclxuICAgICAgICAnbWVkaXVtRGF0ZSc6ICd5TU1NZCcsXHJcbiAgICAgICAgJ3Nob3J0RGF0ZSc6ICd5TWQnLFxyXG4gICAgICAgICdtZWRpdW1UaW1lJzogJ2ptcycsXHJcbiAgICAgICAgJ3Nob3J0VGltZSc6ICdqbSdcclxuICAgIH07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvY2FsZURhdGVQaXBlIHRyYW5zZm9ybSBtZXRob2QuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgZGF0ZSB0byBiZSBsb2NhbGl6ZWRcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0TG9jYWxlIFRoZSBkZWZhdWx0IGxvY2FsZVxyXG4gICAgICogQHBhcmFtIHBhdHRlcm4gVGhlIGZvcm1hdCBvZiB0aGUgZGF0ZVxyXG4gICAgICogQHJldHVybiBUaGUgbG9jYWxlIGRhdGVcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtKHZhbHVlOiBhbnksIGRlZmF1bHRMb2NhbGU6IHN0cmluZywgcGF0dGVybjogc3RyaW5nID0gJ21lZGl1bURhdGUnKTogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgaWYgKGlzQmxhbmsodmFsdWUpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN1cHBvcnRzKHZhbHVlKSkge1xyXG5cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24oTG9jYWxlRGF0ZVBpcGUsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XHJcblxyXG4gICAgICAgICAgICB2YWx1ZSA9IDxEYXRlPkRhdGVXcmFwcGVyLmZyb21NaWxsaXModmFsdWUpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrcyBmb3Igc3VwcG9ydCBmb3IgSW50bC5cclxuICAgICAgICBpZiAoSW50bFN1cHBvcnQuRGF0ZVRpbWVGb3JtYXQoZGVmYXVsdExvY2FsZSkgPT0gdHJ1ZSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKFN0cmluZ01hcFdyYXBwZXIuY29udGFpbnMoTG9jYWxlRGF0ZVBpcGUuQUxJQVNFUywgcGF0dGVybikpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gPHN0cmluZz5TdHJpbmdNYXBXcmFwcGVyLmdldChMb2NhbGVEYXRlUGlwZS5BTElBU0VTLCBwYXR0ZXJuKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBEYXRlRm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSwgZGVmYXVsdExvY2FsZSwgcGF0dGVybik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmV0dXJucyB0aGUgZGF0ZSB3aXRob3V0IGxvY2FsaXphdGlvbi5cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3VwcG9ydHMob2JqOiBhbnkpOiBib29sZWFuIHsgcmV0dXJuIGlzRGF0ZShvYmopIHx8IGlzTnVtYmVyKG9iaik7IH1cclxuXHJcbn0iXX0=